## 移动端适配

让拥有不同屏幕大小的终端设备拥有一致的 UI 界面，让拥有更大屏幕的终端展示更多的内容

#### 视口（Viewport）

视口的概念通常用于移动端。一般我们所说的视口共包括三种：布局视口、视觉视口和理想视口，它们在屏幕适配中起着非常重要的作用。

通过设置 `viewport` 可以设置页面大小，通过 `meta` 标签可以设置 `viewport` 信息，如下:

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-sacle=1, maximum-scale=1" >
```

`viewport` 需要搭配如下几个属性使用：

| 属性          | 含义                       | 取值                             |
| ------------- | -------------------------- | -------------------------------- |
| width         | 定义视口的宽度，单位为像素 | 正整数或设备宽度device-width     |
| height        | 定义视口的高度，单位为像素 | 正整数或device-height            |
| initial-scale | 定义网页初始缩放值         | 整数或小数，小数为缩小，反之放大 |
| maximum-scale | 定义缩放最大值             | 整数或小数                       |
| minimum-scale | 定义缩放最小值             | 整数或小数                       |
| user-scalable | 定义用户是否可以缩放       | yes/no                           |

1. 布局视口（Layout Viewport）

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26d80750d5084c7494099d2bf53692e1~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)


作者：JavonYan
链接：https://juejin.cn/post/6959047144065990663
来源：稀土掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

viewport 即视窗、视口，用于显示网页部分的区域，在 PC 端视口即是浏览器窗口区域，在移动端，为了让页面展示更多的内容，视窗的宽度默认不为设备的宽度，在移动端视窗有三个概念：布局视窗、视觉视窗、理想视窗

- 布局视窗：在浏览器窗口css的布局区域，布局视口的宽度限制css布局的宽。为了能在移动设备上正常显示那些为pc端浏览器设计的网站，移动设备上的浏览器都会把自己默认的 viewport 设为 980px 或其他值，一般都比移动端浏览器可视区域大很多，所以就会出现浏览器出现横向滚动条的情况
- 视觉视窗：终端设备显示网页的区域
- 理想视窗：针对当前设备最理想的展示页面的视窗，不会出现横向滚动条，页面刚好全部展现在视窗内，理想视窗也就是终端屏幕的宽度。

**布局视窗**

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c0a5f8691f3471885cd54e35317240a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42c8f25404b34e538a91f48ea76a76f7~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

在移动端不设置视窗宽度时，页面宽度默认为 980px，页面可以左右滚动

**视觉视窗**

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/80a90d5e0e6744a8af7de3388bc71a46~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

**理想视窗**

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3969df49e9274f35ad4c5d47f9a25998~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

页面的宽度为视窗的宽度，页面没有横向滚动条

## viewport 详细设置

通过设置 `viewport` 可以设置页面大小，通过 `meta` 标签可以设置 `viewport` 信息，代码如下：

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-sacle=1, maximum-scale=1" >
复制代码
```

`viewport` 需要搭配如下几个属性使用：

| 属性          | 含义                       | 取值                             |
| ------------- | -------------------------- | -------------------------------- |
| width         | 定义视口的宽度，单位为像素 | 正整数或设备宽度device-width     |
| height        | 定义视口的高度，单位为像素 | 正整数或device-height            |
| initial-scale | 定义网页初始缩放值         | 整数或小数，小数为缩小，反之放大 |
| maximum-scale | 定义缩放最大值             | 整数或小数                       |
| minimum-scale | 定义缩放最小值             | 整数或小数                       |
| user-scalable | 定义用户是否可以缩放       | yes/no                           |

## 适配方案

将页面的宽度设置为设置的视窗宽度后，即可进行移动端适配工作了。

从适配的目的是**在屏幕大小不同的终端设备拥有统一的界面，让拥有更大屏幕的终端展示更多的内容**，从上面两个角度出发，核心思路是：页面内容充满整个视窗

### 1. rem 布局

`rem` 是CSS3新增的一个相对单位，它以 `HTML` 元素的 `font-size` 为比例：

```css
/* 设置html元素的字体大小为 16px，即 1rem = 16px */
html {
    font-size: 16px;
}
/* 设置box元素宽 160px，10rem = 160px */
.box {
    width: 10rem; /* 160px */
}
复制代码
```

修改HTML元素的字体大小可以成比例的调整以 `rem` 为单位的属性，通过这一个特性，我们可以实现将视窗按一定比例划分为一份一份的，当页面内元素刚好分完所有的份数，页面内容即充满整个视窗且无横向滚动条。

以宽度750像素的设计稿为例，有两个元素，一个元素占 550 个像素，另一个占 750 个像素：

```html
// ...
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div class="w-550px"></div>
<div class="full"></div>
<style>
    *{
        padding: 0;
        margin: 0;
    }
    .w-550px {
        width: 550rem;
        height: 100px;
        background-color: rgb(209, 255, 240);
    }
    .full {
        width: 750rem;
        height: 100px;
        background-color: rgb(195, 200, 199);
    }
</style>
<script>
    function setRem() {
        // 当前页面宽度相对于 750 宽的缩放比例，可根据自己需要修改
        const scale = document.documentElement.clientWidth / 750;
        document.documentElement.style.fontSize = scale + 'px';
    }
    setRem();
    window.onresize = setRem;
</script>
复制代码
```

页面伸缩，网页布局也会进行伸缩。运行结果如下：

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5811a9addd414a3e93eb23cb804a4c4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

目前，除了IE8及更早版本外，所有浏览器均已支持rem。

#### 


作者：xu
链接：https://juejin.cn/post/6953091677838344199
来源：稀土掘金
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。